<!DOCTYPE html> <html class=no-js> <head> <meta charset=utf-8> <title>The Birth Of Merlin - Therefore</title> <meta name=description content="Clement Hurel explains how his module uses Behat to magically transform documentation into a fully scaffolded Drupal site."> <meta name=viewport content="width=device-width"> <link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png> <link rel=icon type=image/png sizes=96x96 href=/favicon-96x96.png> <link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png> <meta name=msapplication-TileColor content=#ffffff> <meta name=msapplication-TileImage content=/ms-icon-144x144.png> <meta name=theme-color content=#ffffff> <!-- Place favicon.ico and apple-touch-icon.png in the root directory --> <link rel=stylesheet href=styles/bootstrap.css> <link rel=stylesheet href=styles/material.css> <link rel=stylesheet href=styles/main.css> <link rel=stylesheet href=//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css> <script src=scripts/vendor/modernizr.js></script>  <body> <!--[if lt IE 10]><p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
  <![endif]--> <nav class=navigation-bar> <a href="/" class=logo></a> <a href=#menu class=menu-open><i class="fa fa-bars"></i><span>Menu</span></a> <div class="menu-container mobile-hidden"> <div class=inner> <a href=#menu class=menu-close><i class="fa fa-times"></i><span>Close</span></a> <ul id=menu class=main-menu> <li><a href="/">Home</a></li> <li><a href=services.html>Services</a></li> <li><a href=work.html>Work</a></li> <li><a href=about-us.html>About us</a></li> <li><a href=/#home-blog-teasers>Blog</a></li> <li><a href=contact.html>Contact</a></li> </ul> <div class=mobile> <div class=divider></div> <a class=phone href=tel:+19059182690>905-918-2690</a> <!--<a class="download" href=""><span>Download PDF information package</span><i class="fa fa-download"></i>-->  </div> </div> </div> </nav> <article class=blog> <div id=service-introduction> <div class=orange-poly-lrg> <div class="promotional gradient"> <div class="inner contrast"> <h1><span class=alt>The Birth of</span>Merlin</h1> <div class=divider></div> </div> </div> </div> </div> <div class=wrapper> <div class=single-col> <p>By Cl&eacute;ment Hurel, July 25, 2013</p> <p class=lead>For the past few months we have been working on a module here at Therefore and it is about to emerge from Brocéliande. This is the story of how it came to be.</p> <h2>The Birth of Merlin.</h2><div>My colleague Sean is a very conscientious guy. He loves creating technical documentation for a project before building anything. One day he asked me if I could do some magic with this documentation. This was the birth of the magician, Merlin.<br>&nbsp;</div><h2>Arthur’s crew, The Holy Grail and the vacuum</h2><div>Imagine that Merlin (the magician) was born in our time and he is a website builder for Drupal and he works for a Drupal Shop. Let’s also imagine that his boss is Arthur, the Lady of the Lake is a kind of QA tester, and I guess Percival would be a digital producer.&nbsp;</div><div>&nbsp;</div><div>As she is already a wizard herself, the Lady of the Lake uses Behat to automate testing sites. (If you don’t know about this magic you should really check it out : <a href="http://behat.org/">http://behat.org/</a>)</div><div>&nbsp;</div><div>One day Arthur and Percival come to see our mage with plans to build a website for the search of the Holy Grail. What would Merlin do with his powers? After agreeing with Arthur and Percival on the architecture, here are some spells that he might cast:</div><div>&nbsp;</div><div>-BUILD-THE-STUFFUM : With a flick of his wand he would create all site components (content types, fields, etc ...) without having to click once on anything.</div><div>&nbsp;</div><div>-DOC-THE-STUFFUM : With another spell he would create documentation that is consistent with what he just built.</div><div>&nbsp;</div><div>-TEST-THE-STUFFUM : With yet another spell he would create the Behat test suite for the components he previously created (because he always wants to please the Lady of the Lake).</div><div>&nbsp;</div><div>-VACUUM-THE-MESSUM : With one last spell he would clean his house while creating the site. (again, because he always wants to please the Lady of the Lake).</div><div>&nbsp;</div><div>The Merlin module is actually all of these spells combined together in a single Drupal module. Except for the last one unfortunately… &nbsp;Just an aside, I honestly think that if Merlin were alive today he would be a rockstar.<br>&nbsp;</div><h2>A little explanation of Merlin’s magic:</h2><div>The module comes with a spreadsheet template. This spreadsheet is where you input your site architecture. In this way we can work out the links between the different components of your future site. This spreadsheet can be filled in quickly, in fact very quickly because we built a lot of shortcuts into the Merlin spreadsheet template to make it easier to build.</div><div>&nbsp;</div><div>DOC-THE-STUFFUM: In addition to serving as a basis for building your website, this document will also serve as technical documentation for the project. Apparently we're not the only ones who think that a spreadsheet like this is REALLY useful (essential?) when architecting a Drupal site: Jody Lynn presented this concept at her session at DrupalCon Austin 2014 (<a href="http://youtu.be/kWeJ2lSFRjM?t=14m50s">http://youtu.be/kWeJ2lSFRjM?t=14m50s</a>); and Larry Garfield from Palantir originally posted about this in a blog post: <a href=http://www.palantir.net/blog/developing-drupal-sites-plan-or-perish>http://www.palantir.net/blog/developing-drupal-sites-plan-or-perish</a>. For the record, Sean originally developed his spreadsheet completely unaware of the Larry Garfield blog post, and we just happened to be at DrupalCon when Jody Lynn presented her take on it. Further proof that great minds think alike!</div><div>&nbsp;</div><div>Once completed, the spreadsheet just needs to be uploaded to Drupal via the module’s administration page. It will then generate a zip file with all your Behat scenarios.&nbsp;</div><div>&nbsp;</div><div>BUILD-DAT-STUFFUM: The creation of your site components is combined in a single file (building.feature). If you give this file to Behat you should see it build every component of your site one by one. Magic! Don’t forget to configure Behat so that the components are built into the right site.</div><div>&nbsp;</div><div>TEST-DAT-STUFFUM: You will also find a set of test components in the same zip file. Obviously the Lady of the Lake still have work to do on getting accurate BDD tests, but most of the grunt work is already done.<br>&nbsp;</div><h2>Compendium of future Merlin’s spells.</h2><div>Unfortunately we are not all as smart as Merlin, but with a little imagination we can imagine some other spells that could really come in handy:</div><div>&nbsp;</div><div>-REVERSE-DAT-STUFFUM: Merlin is able to create our site. Cool. But like any website we might change many things before putting it into production. Documentation is no longer up to date. Well with this spell we could recreate the original spreadsheet with the updated components from the website.</div><div>&nbsp;</div><div>-DISTRIBUTE-DAT-STUFFUM: Create a Drupal distribution where the installation profile uses the spreadsheet to quickly create websites that are ready to go for rapid prototyping and user feedback testing.</div><div>&nbsp;</div><div>In conclusion, Merlin associates Drupal best practices with a little magic. We save time on site building while investing it in information architecture. The result is a better thought-out site, that’s better built, with regression testing, and thorough documentation. Don’t waste time building your site, architect it and let Merlin build it for you!</div><div>&nbsp;</div><div>&nbsp;</div><h3>For more Information</h3><p><a href="https://www.youtube.com/watch?v=EyINJdXY35Y" target=_blank>View Clément's presentation at Drupal Camp Toronto 2014 on Merlin</a>&nbsp;- Merlin is a new module built for Drupal 7. From a template spreadsheet, you can automatically build an entire Drupal website. All the content types, fields and other components are built on the target website through an automation process. In addition, Merlin provides automated CRUD tests for all components it builds.</p><p><a href=https://www.drupal.org/sandbox/churel/2160815 target=_blank>Merlin drupal module on drupal.org</a>&nbsp;- At writing, the module is still in a sandbox environment. An application has been sent to have an official module space.&nbsp;</p> </div> </div> </article> <section id=home-call-to-action> <div class=promo-image-2> <div class="grey-trans contrast wrapper-tall"> <div class="single-col-540 text-center"> <h1>Tell us about your <span class=underline>idea</span></h1> <p class=lead>We're ready to listen.</p> <a href=contact.html class="btn btn-success btn-lg">Contact us<div class=ripple-wrapper></div></a> </div> </div> </div> </section> <footer id=footer class=container> <div class=row> <ul class=social-menu> <li><a href=https://www.facebook.com/thereforeinteractive><span>Facebook</span><i class="fa fa-facebook-square"></i></a></li> <li><a href="https://www.linkedin.com/company/2253281?trk=tyah"><span>LinkedIn</span><i class="fa fa-linkedin-square"></i></a></li> <li><a href=https://twitter.com/thereforeca><span>Twitter</span><i class="fa fa-twitter-square"></i></a></li> <li><a href=https://plus.google.com/+ThereforeCa/about><span>Google+</span><i class="fa fa-google-plus-square"></i></a></li> </ul> <div itemscope itemtype=http://schema.org/LocalBusiness> <div class=contact><span itemprop=telephone><a href=tel:+19059182690>(905) 918-2690</a></span> | <span itemprop=email><a href=mailto:hello@therefore.ca>hello@therefore.ca</a></span> </div> <div>Toronto</div> <div class=address> <span itemprop=address itemscope itemtype=http://schema.org/PostalAddress> <span itemprop=streetAddress>219 Dufferin Street, Suite 301B</span> <span itemprop=addressLocality>Toronto</span>, <span itemprop=addressRegion>ON</span>, <span itemprop=addressCountry>Canada</span> <span itemprop=postalCode>M6K 3J1</span> </span> </div> </div> <div class=copyright>© 2015 Therefore Interactive Inc. All Rights Reserved.</div> <!--  <ul class="menu">
        <li><a href="">Privacy policy</a> |</li>
        <li><a href="">Accessibility</a> |</li>
        <li><a href="/style.html">Style</a></li>

      </ul> --> </div> </footer> <script src=scripts/vendor.js></script> <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. --> <script>(function(b, o, i, l, e, r) {
    b.GoogleAnalyticsObject = l;
    b[l] || (b[l] =
      function() {
        (b[l].q = b[l].q || []).push(arguments)
      });
    b[l].l = +new Date;
    e = o.createElement(i);
    r = o.getElementsByTagName(i)[0];
    e.src = '//www.google-analytics.com/analytics.js';
    r.parentNode.insertBefore(e, r)
  }(window, document, 'script', 'ga'));
  ga('create', 'UA-289018-3');
  ga('send', 'pageview');</script> <script src=scripts/main.js></script>  